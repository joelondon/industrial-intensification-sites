(this["webpackJsonpindustrial-intensification-sites"]=this["webpackJsonpindustrial-intensification-sites"]||[]).push([[0],{162:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={"Industrial intensification sites":{value:"industrial-intensification-sites",showing:!0,about:""}}},163:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var i=n(164),a=n.n(i),r=n(2),o=Object(r.jsx)(a.a,{children:"\n## About London\u2019s Industrial intensification sites\n\n&hellip;\n"})},168:function(t,e,n){"use strict";n(0);var i=n(2);e.a=function(t){var e=t.feature;return Object(i.jsx)("div",{children:e.properties.Development?e.properties.Development:""})}},169:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(22),a=n(32),r=n(80),o=window.innerWidth<600?document.querySelector("#root").offsetWidth:.378*document.querySelector("#root").offsetWidth,s=Object(r.a)((function(t){var e,n;return{root:{display:"flex"},appBar:(e={},Object(a.a)(e,t.breakpoints.up("sm"),{transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})}),Object(a.a)(e,t.breakpoints.down("sm"),{right:"calc(100% - 4em) !important",bottom:"0 !important",top:"unset !important"}),e),appBarShift:{width:"calc(100% - ".concat(o,"px)"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:o},title:{flexGrow:1},hide:{display:"none !important"},drawer:Object(a.a)({},t.breakpoints.up("sm"),{width:o,flexShrink:0}),drawerPaper:(n={},Object(a.a)(n,t.breakpoints.up("sm"),{width:o}),Object(a.a)(n,t.breakpoints.down("sm"),{width:"100%"}),n),drawerHeader:Object(i.a)(Object(i.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{maxWidth:"100%",flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginRight:-o},contentShift:{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:0},formControl:{margin:t.spacing(1),width:"100%"},noLabel:{marginTop:t.spacing(3)}}}))},183:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));n(0);var i=n(423),a=n(424),r=n(425),o=n(120),s=n(174),c=n.n(s),l=n(38),d=n(190),u=n(366),b=n(359),p=n(21),j=n(173),f=n.n(j),h=(n(345),n(2)),O=function(t){var e=t.site,n=[{original:"".concat("/industrial-intensification-sites","/pictures/").concat(e,"/Photo 1.png")},{original:"".concat("/industrial-intensification-sites","/pictures/").concat(e,"/Photo 2.png")},{original:"".concat("/industrial-intensification-sites","/pictures/").concat(e,"/Photo 3.png")},{original:"".concat("/industrial-intensification-sites","/pictures/").concat(e,"/Photo 4.png")},{original:"".concat("/industrial-intensification-sites","/pictures/").concat(e,"/Photo 5.png")},{original:"".concat("/industrial-intensification-sites","/pictures/").concat(e,"/Photo 6.png")}];return Object(h.jsx)(f.a,{items:n,showPlayButton:!1,showThumbnails:!1,lazyLoad:!0})},g=function(t){var e=t.visible,n=t.handleDialogVisibility,s=t.content,j=Object(p.a)(),f=Object(b.a)(j.breakpoints.down("sm"));return Object(h.jsx)("div",{children:Object(h.jsxs)(i.a,{onClose:n,"aria-labelledby":"customized-dialog-title",open:e,fullScreen:f,fullWidth:!0,maxWidth:"xl",children:[Object(h.jsx)(o.a,{"aria-label":"close",onClick:n,style:{position:"absolute",right:8,top:8,color:function(t){return t.palette.grey[500]}},children:Object(h.jsx)(c.a,{})}),Object(h.jsx)(a.a,{children:s&&Object(h.jsx)("div",{style:{width:"100%",height:f?"auto":"".concat(window.screen.availHeight/1.3,"px")},children:Object(h.jsxs)(u.a,{style:{display:"flex",flexDirection:"row",paddingTop:"2rem"},children:[Object(h.jsx)(u.a,{style:{p:1,padding:"2rem",border:"1px"},children:Object(h.jsx)(O,{site:JSON.parse(s).properties.Development})}),Object(h.jsx)(d.a,{orientation:"vertical",flexItem:!0}),Object(h.jsxs)(u.a,{style:{p:1,padding:"1rem"},children:[Object(h.jsx)(l.a,{variant:"h2",gutterBottom:!0,component:"div",children:JSON.parse(s).properties.Development}),Object(h.jsxs)(l.a,{gutterBottom:!0,component:"div",style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:"50%"},children:"Borough"})," ",Object(h.jsx)("code",{children:JSON.parse(s).properties.Borough})]}),Object(h.jsxs)(l.a,{gutterBottom:!0,component:"div",style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:"50%"},children:"Floorspace"}),Object(h.jsxs)("code",{children:[JSON.parse(s).properties["Total floorspace m2"],"m",Object(h.jsx)("sup",{children:"2"})]})]}),Object(h.jsxs)(l.a,{gutterBottom:!0,component:"div",style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:"50%"},children:"Units"}),Object(h.jsx)("code",{children:JSON.parse(s).properties["No. units"]})]}),Object(h.jsxs)(l.a,{gutterBottom:!0,component:"div",style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:"50%"},children:"Unit sizes"}),Object(h.jsxs)("code",{children:[JSON.parse(s).properties["Unit sizes from m2"]," -"," ",JSON.parse(s).properties["Unit sizes to m2"],"m",Object(h.jsx)("sup",{children:"2"})]})]}),Object(h.jsxs)(l.a,{gutterBottom:!0,component:"div",style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:"50%"},children:"Prices"}),Object(h.jsxs)("code",{children:["\xa3",JSON.parse(s).properties["Price range from \xa3"]," -"," ","\xa3",JSON.parse(s).properties["Price range to \xa3"]]})]})]})]})})}),Object(h.jsx)(r.a,{})]})})}},228:function(t,e,n){},337:function(t,e,n){"use strict";n(12),n(0);var i=n(80);n(165),n(166),n(167),n(113),n(114),n(354),n(63),n(64),n(65),n(59),n(38),n(186),n(2),Object(i.a)((function(t){return{root:{flexGrow:1},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary},scrollGrid:{maxHeight:"20rem",overflowY:"scroll","*::-webkit-scrollbar":{"-webkit-appearance":"none",width:"7px"},"*::-webkit-scrollbar-thumb":{borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, .5)","-webkit-box-shadow":"0 0 1px rgba(255, 255, 255, .5)"}},typography:{padding:t.spacing(2)}}}))},341:function(t,e,n){"use strict";n(12),n(32),n(22),n(0),n(187),n(119),n(355),n(188),n(356),n(357),n(170),n(38),n(186);var i=n(80);n(2),Object(i.a)((function(t){return{typography:{padding:t.spacing(2)}}}))},342:function(t,e,n){"use strict";n(22),n(12),n(0),n(44);var i=n(80);n(119),n(121),n(368),n(2),Object(i.a)((function(t){return{formControl:{margin:t.spacing(1),minWidth:260},selectEmpty:{marginTop:t.spacing(2)}}}))},343:function(t,e,n){"use strict";n(115),n(172),n(12),n(22),n(0);var i=n(80);n(121),n(358),n(119),n(187),n(371),n(188),n(372),n(370),n(2),Object(i.a)((function(t){return{root:{"& > *":{margin:t.spacing(1),display:"flex"}},snack:{width:"100%","& > * + *":{marginTop:t.spacing(2)}}}}))},349:function(t,e,n){"use strict";n.r(e);var i=n(160),a=n(161),r=n(181),o=n(180),s=n(0),c=n.n(s),l=n(13),d=n.n(l),u=n(178),b=n(17),p=n(179),j=(n(228),n(90));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(2);c.a.Component;d.a.render(Object(f.jsx)(u.a,{children:Object(f.jsx)(p.a,{ReactRouterRoute:b.a,children:Object(f.jsx)(j.a,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},350:function(t,e,n){"use strict";n(22),n(12),n(0),n(44);var i=n(80);n(119),n(121),n(368),n(422),n(118),n(184);n(90),n(2),Object(i.a)((function(t){return{formControl:{margin:t.spacing(1),minWidth:260},selectEmpty:{marginTop:t.spacing(2)}}}))},44:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(12),a=n(0),r=n.n(a);function o(t,e){var n=r.a.useState((function(){var n=localStorage.getItem(t);return n?JSON.parse(n):e})),a=Object(i.a)(n,2),o=a[0],s=a[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(o))}),[o,t]),[o,s]}},90:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return G})),n.d(e,"a",(function(){return q}));var i=n(22),a=n(182),r=n(32),o=n(12),s=n(0),c=n(97),l=n.n(c),d=(n(230),n(13)),u=n.n(d),b=n(162),p=n(163),j=(n(337),n(168)),f=n(169),h=n(44),O=n(4),g=n(120),m=n(369),x=n(361),v=n(362),y=n(364),w=n(38),S=n(190),N=n(175),k=n.n(N),T=n(177),C=n.n(T),B=n(176),I=n.n(B),P=n(367),D=n(363),J=n(366),R=n(98),W=n(359),L=(n(341),n(350),n(342),n(343),n(183)),E=n(21),z=n(2),A=t.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),G="pk.eyJ1IjoiZ2xhLWdpcyIsImEiOiJjanBvNGh1bncwOTkzNDNueWt5MGU1ZGtiIn0.XFxLdq2dXttcXSXTiREPTA";function q(t){t.showBorder,t.onTilesLoad;var e=Object(E.a)(),n=Object(W.a)(e.breakpoints.down("sm")),c=Object(f.a)(e),d=Object(s.useRef)(null),N=Object(s.useState)(b.a),T=Object(o.a)(N,2),B=T[0],G=(T[1],Object(s.useState)(null)),q=Object(o.a)(G,2),F=(q[0],q[1]),U=Object(h.a)("drawer",!0),H=Object(o.a)(U,2),Z=H[0],X=H[1],M=Object(s.useState)(!1),V=Object(o.a)(M,2),Y=V[0],$=V[1],K=function(){$(!Y)},Q=Object(s.useState)(null),_=Object(o.a)(Q,2),tt=_[0],et=_[1],nt=function(){X(!0),setTimeout((function(){jt&&jt.resize(),n?jt.easeTo({padding:{bottom:150,top:0},duration:1e3}):jt.easeTo({padding:{right:150,left:0},duration:1e3})}),10)},it=function(t){var e=t.bottom;return Object(z.jsx)(x.a,{position:n?"absolute":"fixed",style:{backgroundColor:"unset",visibility:"hidden",bottom:e},className:Object(O.a)(c.appBar,Object(r.a)({},c.appBarShift,Z)),children:Object(z.jsxs)(v.a,{children:[Object(z.jsx)(w.a,{variant:"h6",noWrap:!0,className:c.title}),Object(z.jsx)(g.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:nt,className:Object(O.a)(Z&&c.hide),style:{visibility:"visible"},children:Object(z.jsx)(k.a,{})})]})})},at=function(t){var e=t.children,n=t.value,r=t.index,o=Object(a.a)(t,["children","value","index"]);return Object(z.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},o),{},{children:n===r&&Object(z.jsx)(J.a,{p:3,children:e})}))},rt=Object(h.a)("tab",0),ot=Object(o.a)(rt,2),st=ot[0],ct=ot[1],lt=function(t,e){ct(Number(e))},dt=function(){return Object(z.jsx)(R.a,{square:!0,children:Object(z.jsx)(P.a,{value:st,onChange:lt,variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable force tabs",children:Object(z.jsx)(D.a,Object(i.a)({label:"About"},(t=0,{id:"scrollable-force-tab-".concat(t),"aria-controls":"scrollable-force-tabpanel-".concat(t)})))})});var t},ut=Object(s.useRef)(null),bt=Object(s.useState)(null),pt=Object(o.a)(bt,2),jt=pt[0],ft=pt[1],ht=Object(s.useRef)(new l.a.Popup({offset:5,closeButton:!1})),Ot=Object(h.a)("lng",-.1),gt=Object(o.a)(Ot,2),mt=gt[0],xt=gt[1],vt=Object(h.a)("lat",51.49),yt=Object(o.a)(vt,2),wt=yt[0],St=yt[1],Nt=Object(h.a)("zoom",9),kt=Object(o.a)(Nt,2),Tt=kt[0],Ct=kt[1];Object(s.useEffect)((function(){B&&jt&&Object.keys(B).map((function(t){return jt.getStyle().layers.map((function(t){return t.id})).filter((function(e){return e.startsWith(B[t].value)})).map((function(e){return jt.setLayoutProperty(e,"visibility",B[t].showing?"visible":"none")}))}))}),[B,jt]),Object(s.useEffect)((function(){var t=new l.a.Map({container:ut.current,style:"industrial-intensification-sites.json",center:[mt,wt],zoom:Tt,pitch:10});return t.touchZoomRotate.disableRotation(),t.addControl(new l.a.NavigationControl({showCompass:!1,showZoom:!0}),"top-left"),t.on("load",(function(){F(t.getStyle().layers.filter((function(t){return Object.values(B).map((function(t){return t.value})).includes(t.id)})).map((function(t){return[t.id,t.paint]})).map((function(t){var e={};return e[t[0]]=t[1][Object.keys(t[1]).filter((function(t){return t.includes("color")}))[0]],e}))),t.on("mouseenter","industrial-intensification-sites",(function(e){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","industrial-intensification-sites",(function(e){t.getCanvas().style.cursor=""})),t.on("mousemove",(function(e){var n=t.queryRenderedFeatures(e.point);if(n.length&&n.filter((function(t){return t.layer.id.startsWith("industrial-intensification-sites")})).length>0){var i=n.filter((function(t){return t.layer.id.startsWith("industrial-intensification-sites")}))[0],a=document.createElement("div");u.a.render(Object(z.jsx)(j.a,{feature:i}),a),ht.current.setLngLat(e.lngLat).setDOMContent(a).addTo(t)}else ht.current.remove()})),t.on("click","industrial-intensification-sites",(function(e){var n=t.queryRenderedFeatures(e.point);if(n.length&&Object.values(B).map((function(t){return t.value})).includes(n.filter((function(t){return"industrial-intensification-sites"===t.layer.id}))[0].layer.id)){var i=n.filter((function(t){return"industrial-intensification-sites"===t.layer.id}))[0];et(JSON.stringify(i)),K()}})),t.keyboard.disable(),t.on("moveend",(function(){var e=t.getCenter(),n=e.lng,i=e.lat,a=t.getZoom();xt(n),St(i),Ct(a)})),t.addSource("single-point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t.addLayer({visible:!0,id:"point",source:"single-point",type:"circle",paint:{"circle-radius":10,"circle-color":"#00e48e"}}),ft(t)})),function(){return t.remove()}}),[]);return Object(s.useEffect)((function(){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:17;jt&&jt.flyTo({center:[t,e],zoom:n,speed:2,curve:1,easing:function(t){return t}})}(mt,wt,Tt)}),[mt,wt,Tt]),Object(z.jsxs)("div",{ref:d,className:c.root,children:[Object(z.jsx)(y.a,{}),Object(z.jsx)(L.a,{visible:Y,handleDialogVisibility:K,content:tt}),!n&&Object(z.jsx)(it,{left:n?0:"auto"}),Object(z.jsxs)("main",{className:Object(O.a)(c.content,Object(r.a)({},c.contentShift,Z)),children:[Object(z.jsx)("div",{className:c.drawerHeader}),Object(z.jsx)("div",{children:Object(z.jsx)("div",{ref:ut,style:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}})})]}),Object(z.jsxs)(m.a,{disableBackdropTransition:!A,disableDiscovery:A,className:c.drawer,variant:"persistent",anchor:n?"bottom":"right",open:Z,onOpen:function(){},onClose:function(){},classes:{paper:c.drawerPaper},children:[Object(z.jsxs)("div",{className:c.drawerHeader,children:[Object(z.jsx)(g.a,{onClick:function(){X(!1),setTimeout((function(){jt&&jt.resize(),n?jt.easeTo({padding:{top:150,bottom:0},duration:1e3}):jt.easeTo({padding:{left:150,right:0},duration:1e3})}),10)},children:n?Object(z.jsx)(I.a,{}):Object(z.jsx)(C.a,{})}),Object(z.jsx)("h3",{style:{textAlign:"center",margin:"0 auto"},children:"LONDON INDUSTRIAL INTENSIFICATION SITES"})," "]}),Object(z.jsx)(S.a,{}),!n&&Object(z.jsx)(dt,{}),Object(z.jsx)(at,{value:st,index:0,children:Object(z.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(z.jsx)(w.a,{component:"span",variant:"body2",className:c.typography,children:p.a})})}),n&&Object(z.jsx)(S.a,{}),n&&Object(z.jsx)(dt,{})]}),n&&Object(z.jsx)("div",{style:{bottom:0},children:Object(z.jsx)(it,{})})]})}}).call(this,n(229))}},[[349,1,2]]]);
//# sourceMappingURL=main.984fdb29.chunk.js.map